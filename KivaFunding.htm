<!DOCTYPE html>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

<script type="text/javascript" src="dist/fullpage.js"></script>
<script type="text/javascript" src="dist/fullpage.extensions.min.js"></script>

<!--script type="text/javascript" src="https://github.com/alvarotrigo/fullPage.js/blob/master/dist/fullpage.extensions.min.js"></script>
<script type="text/javascript" src="https://github.com/alvarotrigo/fullPage.js/blob/master/dist/fullpage.js"></script-->

<script type="text/javascript" src="KivaFunding.js"></script>

<html>
    <head>
        <link rel="stylesheet" type="text/css" href="dist/fullpage.css" />
        <link rel="stylesheet" type="text/css" href="dist/examples.css" />
        <link rel="stylesheet" type="text/css" href="Kiva.css" />

        <script type="text/javascript" src="Kiva.js"></script>

        <!--link rel="stylesheet" type="text/css" href="https://github.com/alvarotrigo/fullPage.js/blob/master/dist/fullpage.css" />
        <link rel="stylesheet" type="text/css" href="https://github.com/alvarotrigo/fullPage.js/blob/master/examples/examples.css" /-->

    </head>
<body>
    <ul id="menu" style="display:none">
        <li data-menuanchor="firstPage"><a href="#firstPage">First slide</a></li>
        <li data-menuanchor="secondPage"><a href="#secondPage">Second slide</a></li>
        <li data-menuanchor="3rdPage"><a href="#3rdPage">Third slide</a></li>
        <li data-menuanchor="4thpage"><a href="#4thpage">Fourth slide</a></li>
    </ul>
        
        <!-- <div id="header">Header</div> -->
        <div id="footer" class="footer"><b style="color:blue">Reader-Driven:</b> Slide Horizontal, <b style="color:blue">Author-Driven:</b> Slide Vertical </div>

        <div id="myContainer">

            <!-- Section 1 - Introduction -->
            <div class="section">
                    <h1>Kiva CrowdFunding </h1>
                    <h3 style="text-align: center;">Storytelling with Interactive Data Visualization</h3>
                <div class="slide ">
                    <div class="intro">
                        <br/>
                            <div class="div">
                                <h2 style="margin-left:-40px"><b>Approach:</b> </h2>
                                <span>Following the Hybrid Model of Data visualization with balancing Autor-Driven and giving flexibility to the Reader driving towards Reader-Driven approaches in each slide. <br/>
                                     Slides with Charts starts with Interactive slideshow and then user can drilldown with various parameters, triggers.</span>
                                <br/><br/>
                               
                                <h2 style="margin-left:-40px"><b>Rules: </b></h2>

                                <h2><b>Horizontal Scrolling: </b></h2>
                                <span>
                                    Follows Reader-Driven and Drilldown approach ( expands the informations shown on the main slide but return back to current slide parent), <br/>
                                    Reader can navigate to any of slides in that scope.<br/>
                                    In each Drill-down slide reader was allowed to use triggers to narrow data selection through either setting data filters to specific dictionary values or/and achieve similar result by visually choosing regions.
                                    <br/>&nbsp;&nbsp;(e.g. rectangles) on interactive charts, so only values associated with regions will stay in data selection. <br/>
                                    Visual Structuring: user was provided dots at the bottom of the screen, enables to know where they are and giving them flexibility to jump as needed.
                                </span>
                                
                                </br>
                                <br/>
                                <h2><b>Vertical Scrolling:</b></h2>
                                <span>Follows Interactive Slideshow. Allowing user to navigate through Author-Driven approach.</span>

                                <br/><br/><br/>
                                <span style="color:blue">Slide Horizontally for Drilldown.<br/>
                                    Slide Vertically for Interactive Slide show.<br/>
                                </span>
                                <h2 style="color:red;text-align:right">Click right Arrow now -></h2>
                            </div>
                    </div>
                </div>
                <div class="slide"><h2>Overview</h2>
                    
                    <div class="div">
                            <h2>Data Source:<a href="https://www.kaggle.com/kiva/data-science-for-good-kiva-crowdfunding" target="_blank">Kiva CrowdFunding</a></h2>
                            <a href="https://www.kaggle.com/kiva" target="_blank">Kiva.org</a> is an online crowdfunding platform to extend financial services to poor and financially excluded people around the world. Kiva lenders have provided over $1 billion dollars in loans to over 2 million people.
                        </span>
                    </div>
                </div>
                    
                <div class="slide">
                    
                    <div class="div">
                        <h2>Prepare Data</h2>
                        <ol>
                            <li>Upon data files downloaded from <a href="https://www.kaggle.com/kiva/data-science-for-good-kiva-crowdfunding" target="_blank">Kiva.org</a></li>
                            <li>Data was cleaned using Data Preparation tools - Tableau Prep</li>
                            <li>Corrected for missing values and populated with 0's as needed.</li>
                            <li>Aggregation was done into separate files for easy and flexibility for better visualization in d3.js</li>

                        </ol>
                        <span>
                            Scroll down horizontally to take to next section or click on right arrow to take to first slide(home).
                        </span>
                    </div>
                    
                </div>

                
            </div>

            <!-- Section:2 Essay Section -->
            <div class="section" style="vertical-align: top;">
                <h1>Essay</h1>
                <div class="slide">
                    <div class="div">
                        <h2>Overview:</h2>
                        <span>
                                Upon partial analysis of the data, trying to showcase available datapoints into Data visualization for better understanding the crowdfunding with respect to timelines, sectors, country, partners etc.<br/>
                                In this effort, i was able to concentrate on timelines, sectors, countries, partners and ignored many other data points that are available in the dataset. <br/>
                                Below are the two approaches built to better convey the understanding.
                        </span>
                        <br/><br/>

                        <h2>Narrative:</h2>
                                <div>
                                    Following is the process following in storytelling or Narrative Visualization <br/>
                                    <div id="holder">
                                            <img src="img/structure.PNG" alt="Visual Structuring" style="width:100%;height:100%"/>
                                        </div>
                                    
                                    <br/>
                                    <ol>
                                        <li>Genre -> Incorporating the Hybrid Model (Author-Driven and then Reader-Driven) for Narration. 
                                            <br/>&nbsp;&nbsp;&nbsp;Author-Driven: Vertical Scrolling enables Drill down model in between scenes.
                                            <br/>&nbsp;&nbsp;&nbsp;Reader-Driven: Horizontal scrolling signifies  Interactive Slideshow in traversing between Scenes and 
                                        </li>
                                        <li>Design Dimensions:
                                            <br/>&nbsp;&nbsp;&nbsp;Highlighting: Each slide has annotations to focus on important events
                                            <br/>&nbsp;&nbsp;&nbsp;Tranistion guidance: Slides with drill down has left and right arrows
                                            <br/>&nbsp;&nbsp;&nbsp;Messaging: Each chart enabled with Tooltips to inform the required message.
                                            <br/>&nbsp;&nbsp;&nbsp;Visual Structuring: Enabled scrollbar for vertical navigation(Author-Driven) and dots ( bottom of screen) for Horizontal slides(Reader-Driven)
                                        </li>
                                        <li>Two different Scenes are focussed. Timeline based on Funding Amount and Country Based.
                                        </li>
                                        <li>Funding Amount Displayed in terms of Millions with 2 digits prefix.</li>
                                    </ol>

                                </div>

                                <b style="color:blue">Move to next slide for detailed information on Scenes.</b>
                                <br/>
                        <b>Note:</b> Using FullPage.js and you will see some Licensing errors if watched in Developer Tools. 
                            Please Ignore and it won't affect the usage.

                        </div>
                    </div>

                    <div class="slide">
                        <div class="div">
                        <h2>Charts:</h2>
                        <ol>
                            <li>
                                <h3><b>Timeline Based:</b></h3>
                                All charts in this category are based out of Funding(continious) dispersed considering various attributes. <br/>
                                ex: Total Funding in each month, Total Funding across sectors.<br/>
                                <ul>
                                    <li>1.1: Total Funding Projected by Month - Simple Area Chart
                                            <br/><span style="padding-left:30px;color:black">x-axes: Month-Year(Continious, Discrete) (range: date extent), y-axes: Funded (Continious in Millions) [ Sum of funding across all sectors]( Range: 0 to max(funded + 1M )). Added 1M to extend y-axes for better visibility.
                                                <br/>In trying to consider funding growth (consolidated over individual data values) is better displayed in Area Chart. This chart gives overall projection of spending over time.
                                                <br/> Equipped with Line graph for better projection of Total funding in each defined month. Created Annotations during peak dates.

                                            </span>
                                    </li>
                                    <li>1.2: Funding By Sector - Stacked Area Chart
                                        <br/><span style="padding-left:30px;color:black">x-axes: Month-Year(Continious,Discrete)(range: date extent), y-axes: Funded (Continious in Millions)
                                        <br/>Following above, this will dig deeper into above scene and display in terms of Involved Sectors. Since we are consolidating Individual Sectors is better displayed using Stacked Area Chart.
                                        </span>
                                    </li>
                                    <li>1.3: Sector Funding(Filters,Parametrized) - Bar Chart
                                        <br/><span style="padding-left:30px;color:black">x-axes: Sectors(Discrete), y-axes: Funded (Continious in Millions)
                                        <br/> Following above, Ideally, displaying Bar chart makes more sense as we have definite Sectors. This chart displays a visual way to identify top and bottom funded sectors. Highest and Lowest funded sectors are displayed and Readers can filter based on Sectors.
                                        </span>
                                    </li>
                                </ul>
                                <br/>
                            </li>
                            <li>
                                <h3><b>Country Based:</b></h3>
                                All charts in this Scene are based out of Country(discrete) and spent funding till now.
                                <ul>
                                    <li>2.1: Total Funding By Country
                                        <br/><span style="padding-left:30px;color:black">x-axes: Country(Discrete) , y-axes:Funded Amount(Continious in Millions).
                                            <br/>Considering the values of Discrete and Continious, Bar chart if very appropriate. This simple Bar chart is to project Funding between countries. 
                                            <br/>Provided appropriate Sorting Triggers to get sense of spent. Providing Sort by Funding and Country gives more idea on Funding distribution. Annotations, Legends are displayed appropriately.
                                        </span>
                                    </li>
                                    <li>2.2: Partner/Sector Distribution By Country - Stacked Bar Chart
                                    <br/><span style="padding-left:30px;color:black">x-axes: Country(Discrete), y-axes:Partners and Sectors Count.
                                        <br/>Following above scene, user can drill down and get more info on Partners and Sectors Count in each Country.
                                        <br/> Use different filters, Triggers to get to understand with various combinations.
                                    </span>
                                    </li>
                                </ul>
                            </li>
                        </ol>

                    </div>
                </div>
            </div>

                <!--Section:3 Charts Section: Funding Amount Based -->
                <div class="section">
                        <h1>Theme: Timeline Based Funding</h1>
                    <div class="slide">
                            <h2>Area Chart - Total Funding</h2>
                        <div class="divChart">
                            
                            <div class="svgChart" id="divChart3_1" >
                                <div class="div">
                                    Below chart displays the amount of funding dispersed by Kiva CrowdFunding in each of the month starting from 2014-Jan to 2017-July
                                    Hover the chart to see the funding in each projected month. ( Note: There is a drop in July 2017 has there is no much data available or missing in the dataset)
                                    <br/>
                                    Note: Date can be discrete and continious based on situation.    
                                    <ul>
                                        <li>Funding (continious) is taken as y-axes and other attributes( ex: Sectors [discrete] are taken as x-axes)</li>
                                        <li>Three Annotations are created for the Peak Month ( March of each year)</li>
                                        <li>Scatter plot was drawn for easy identifying each month on the area chart.</li>
                                        <li>Mouse hovering will provide details on Funding in Millions.</li>
                                    </ul>
                                        

                                    <br/>
                                    <span style="color:black"><b>Annotations:</b> Noticed that there is typical spike in March in each year except 2014. It might be because of typical year end to most of the countries.</span>
                                </div>
                                <svg id="svgChart3_1" width="960" height="700"></svg>
                            </div>
                        </div>
                    </div>
                    <div class="slide">
                            <h2>Stacked Area Chart - Sector Funding</h2>
                            <div class="divChart">
                                
                                <div class="svgChart" id="divChart3_2">
                                    <div class="div">
                                        <li>Continuing the prior slide, this slide is expanded to show the funding dispersed in various sectors.</li>
                                        <li>After reviewing the above chart, its good idea to drill down and see which Sector is getting more funding.</li>
                                        <li>This Stacked Area Chart is drawn considering these factors into account.</li>
                                        <li>Annotations are created for the same Peaks but main intention is to get the size of allocations.</li>
                                        <li>By viewing it can be figured out that Agriculture, Food and Retail takes more share. But, again its not completely clear in understanding the sequence of sectors allocations. This is being addressed in next slide.</li>
                                        <li>Mouse hovering displays info on hovering sectors, complete total funding.</li>
                                        <br/><span style="color:black">Legend</span> schemeCategory20c for coloring Sectors
                                        <div id="legend3_2"></div>
                                        <br/>
                                        <span style="color:black"><b>Annotations:</b> Spikes in March is noticed espically from 2015 onwards.</span>
                                        <svg id="svgChart3_2" width="960" height="600"></svg>
                                    </br>
                                        
                                    </div>
                                    
                                </div>
                            </div>
                    </div>
                    <div class="slide">
                            <h2>Bar Chart - Sector Funding(Filters,Parametrized)</h2>
                            <div class="divChart">                                
                                <div class="svgChart" id="divChart3_3">
                                    <div class="div">
                                        <li>Continuing the prior slide, this graph helps to view the content filtering parameterized selection of Sectors.</li>
                                        <li>Here is the bar chart which gives more detailed info for digesting the funding across sectors and their ranking.</li>
                                        <li>Sectors are ordered in Highest to lowest and its more evident that Agriculture takes the first rank and Wholesale takes least funding.</li>
                                        <li>Annotations are created for the same.</li>
                                        <li>Apart from that, this slide is also equipped with Parameterized searching using Checkboxes and Refresh button.</li>
                                        <br/>
                                        <span style="color:black">Legend: </span>schemeCategory20c for coloring Sectors
                                        <div id="legend3_3"></div>
                                        <br/><span style="color:black"><b>Annotations:</b> Highest Funding and Lower Funding Sector</span>
                                        <h3>
                                            <div id="sectors" style="margin:0px"> </div>
                                        </h3>
                                         <p class="sectors_3">
                                             <button id="bSubmit" onclick="javascript:Refresh_Chart3_3()" style="font-size:15px;color:white;background-color: #4CAF50;vertical-align: middle" >Refresh</button>
                                         </p>

                                        <svg id="svgChart3_3" width="960" height="700" style="vertical-align: top"></svg>
                                    </br>
                                        
                                    </div>
                                    
                                </div>
                            </div>
                    </div>
                </div>
                <!-- End of Section 3 -->

                
                <!--Section:4 Charts Section: Country Based -->
                <div class="section">
                    <h1>Theme: Country Based Funding</h1>
                    <div class="slide">
                            <h2>Bar Chart: Total Funding</h2>
                        <div class="divChart">
                            <div class="svgChart" id="divChart4_1" >
                                <div class="div">
                                    Below chart displays the Funding dispersed for different countries. x-axes takes countries and y-axes takes the continous variable Funding amount.
                                    <br/>
                                    This gives idea of 1st and 2nd top Funded Country.
                                    Users can sort the data based out of country or funded amount using radio buttons.
                                    <br/>
                                    <span style="color:black"><b>Annotations:</b> Phillipines taking 1st top funded country followed by Kenya.</span>
                                    <br/>
                                    <div style="font-size:8px;text-align: left;color:blue;" >
                                            <p><input class="regular-checkbox regular-radio" type="radio" name="sort" value="funded" id="chk41_1" onclick="javascript:drawChart4_1()" >&nbsp;Sort by Funded
                                            <input class="regular-checkbox regular-radio" type="radio" name="sort" value="country" id="chk41_2" onclick="javascript:drawChart4_1()" >&nbsp;Sort by Country
                                            </p>
                                    </div>
                                    <div class="legend6">
                                        <h3>Legend</h3>
                                        <div id="legend"></div>
                                    </div>
                                    <svg id="svgChart4_1" width="1100" height="700"></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide">
                            <h2>Stacked Bar Chart - Partner/Sector Distribution</h2>
                            <div class="divChart">                                
                                <div class="svgChart" id="divChart4_2">
                                    <div class="div">
                                        <ul>
                                            <li>Once reviewing about chart, reviewing the sectors, partners in each of these countries would give us more info and we can even see if there is any co-relation.</li>
                                            <li>Drawing a Stacked Bar Chart with Countries and Stack Counts of Partners and Sum of Sectors.</li>
                                            <li>Here we have used annotation for Highest Partners (Kenya).</li>
                                            <li>Provided a way to Sort based on Total and Revere Partners and Sectors to get some insights.</li>
                                            <li>Provided a third Filter of filtering Countries who had more than 5 Partners( Avg partner count)</li>
                                        </ul>
                                        <br/>
                                        <span style="color:black"><b>Annotations:</b> Kenya takes the highest in Partners with ratio of 3 partners per sector.</span>
                                        <br/>
                                        <span>Use Sort and Reverse checkboxes to get sense of partners and sectors for each country.</span>

                                        <div style="font-size:8px;text-align: left;color:blue" >
                                            <p>
                                                <input class="regular-checkbox" type="checkbox" id="chk42_1" onclick="javascript:drawChart4_2()" >&nbsp;Sort by Total Count
                                                <input class="regular-checkbox" type="checkbox" id="chk42_2" onclick="javascript:drawChart4_2()" >&nbsp;Reverse Layout
                                                <input class="regular-checkbox" type="checkbox" id="chk42_3" onclick="javascript:drawChart4_2()" >&nbsp;Average Partner Countries(> 5)
                                            </p>
                                        </div>
                                        <svg id="svgChart4_2" width="960" height="700"></svg>
                                    </br>
                                        <div id="legend4_2"></div>
                                    </div>
                                    
                                </div>
                            </div>
                    </div>
                    <!-- <div class="slide" style="display:none">
                            <div class="divChart">
                                <h2>Bar Chart - Sector Funding(Filters,Parametrized)</h2>
                                <div class="svgChart" id="divChart4_3">
                                    <div class="div">
                                        Continuing the prior slide, this graph helps to view the content filtering parameterized selection based on sum of sectors and partners. Reason behind this chart is to find the coorelation between Partners, sector counts in each country.
                                        Partners and Sectors color alignment can be easil changed using checkbox: Reverse Layout. This helps to see the variation of stack bars for pattern. Ex: When Sectors are botton in Stacked Bar chart, you see all countries are aligning, but not in other way.
                                        Provided a way to Get Countries who has Partners more than average.
                                        <br/>
                                        <span style="color:black"><b>Annotations:</b> Highest Partners Country</span>
                                        <h3>
                                            <div id="sectors" style="margin:10px"> </div>
                                        </h3>
                                         <p class="sectors_3">
                                             <button id="bSubmit" onclick="javascript:Refresh_Chart3_3()" >Refresh Chart</button>
                                         </p>

                                        <svg id="svgChart4_3" width="960" height="700"></svg>
                                    </br>
                                        <div id="legend4_3"></div>
                                    </div>
                                    
                                </div>
                            </div>
                    </div> -->
                </div>
                <!-- End of Section 4 -->

                <!-- Section:5 Conclusion Section -->
                <div class="section">
                        <h1>Conclusion</h1>
                        <div class="div">
                            <h2>Methodology</h2>
                                    Following the Hybrid Model (Author-Driven and Reader-Driven) using Interactive Slideshow <br/>
                                    Charts are Based on: <br/>
                                    <ol>
                                    <li>    Timeline Based: Main strategy around these charts is to find the funding spread across different sectors with various timelines into scope.</li>
                                    <li>    Country Based: Main strategy is to find the funding spent in each country and what other factors are being contributed like Partners, Sectors etc.</li>
                                </ol>
                            <h2>Conclusion:</h2>
                            <span>
                            <ol>
                                <li>Considering the Analysis and this Visualizations ,found that there is pretty good distribution of Sectors across different countries but there is lot variation on Funding.</li>
                                <li>More Partners, more Funding</li>
                                <li>Funding spikes during month of March and sometimes December.</li>
                                <li>Can be Expanded:<br/>
                                    a. Partners specific Performance <br/>
                                    b. MPI Data analysis ( data available in kiva website)
                                </li>
                            </ol>

                            </span>
    
                        </div>
                        
                        <span> Thanks for Reviewing!</span>
                        <div>
                            Click <a href="https://skusuma3.github.io/CS498DataViz/KivaFunding.htm">Home</a>
                        </div>
                    </div>

            </div>

    <input type="hidden" id="_4" value="3" />

    <script>
    
    </script>

</body>
</html>